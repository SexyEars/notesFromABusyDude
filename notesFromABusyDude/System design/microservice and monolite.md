## Что такое микросервисы?

---

Микросервисная архитектура (или просто «микросервисы») — это подход к созданию приложения в виде набора независимо развертываемых сервисов, которые являются децентрализованными и разрабатываются независимо друг от друга. Эти сервисы слабо связаны, независимо развертываются и легко обслуживаются. Монолитное приложение создается как единое и неделимое целое, тогда как в микросервисной архитектуре его разбивают на множество независимых модулей, каждый из которых вносит свой вклад в общее дело. Микросервисы неразрывно связаны с DevOps, поскольку лежат в основе методики [непрерывной поставки](https://www.atlassian.com/ru/continuous-delivery), благодаря которой команды могут быстро адаптироваться к требованиям пользователей.

Микросервис — это веб-сервис, отвечающий за один элемент логики в определенной предметной области. Приложение создают как комбинацию микросервисов, каждый из которых предоставляет функциональные возможности в своей предметной области. Микросервисы взаимодействуют друг с другом через API-интерфейсы, такие как REST или gRPC, но не обладают информацией о внутреннем устройстве других сервисов. Такое согласованное взаимодействие между микросервисами называется микросервисной архитектурой.


## Преимущества микросервисов

--- 

### Гибкое масштабирование

Поскольку микросервисы изначально являются распределенными и могут развертываться в кластерах, становится возможным динамическое горизонтальное масштабирование через границы сервисов. Если нагрузка на микросервис достигает предела, можно быстро развернуть новые экземпляры этого сервиса в сопутствующем кластере и таким образом снизить нагрузку.

### Agility

Сервисы в микросервисной архитектуре обычно создаются небольшими независимыми командами, поэтому такая архитектура побуждает команды внедрять [методы agile](https://www.atlassian.com/ru/agile). Команды получают возможность работать независимо и быстро двигаться вперед, в результате чего сокращаются циклы разработки.

### Гибкая технология

При использовании микросервисной архитектуры от команд не требуют строго следовать определенному подходу и работать с одним пакетом инструментов. Они могут свободно выбирать ПО с учетом своих предпочтений.

### Частые релизы

Одним из основных преимуществ микросервисной архитектуры являются частые и быстрые циклы релизов. Благодаря микросервисной архитектуре, которая выступает ключевым элементом [непрерывной интеграции и непрерывной поставки (CI/CD)](https://www.atlassian.com/ru/continuous-delivery/principles/continuous-integration-vs-delivery-vs-deployment), команды могут экспериментировать с новыми возможностями, а если что-то пойдет не так — выполнить откат и вернуться к предыдущей версии. Это упрощает обновление кода и ускоряет вывод новых возможностей на рынок.

## Проблемы микросервисной архитектуры

---

One challenge of microservices is that the independent services generate their logs. This is a disadvantage compared to monoliths' centralized logs, which provide a single source of truth for developers and operations teams. Monitoring and infrastructure management are also more complicated since many moving pieces exist. Testing and debugging are challenging because, unlike monoliths, no integrated development environment (IDE) exists.


## Что такое монолитная архитектура?

---

Монолитная архитектура — это традиционная модель программного обеспечения, которая представляет собой единый модуль, работающий автономно и независимо от других приложений. Монолитом часто называют нечто большое и неповоротливое, и эти два слова хорошо описывают монолитную архитектуру для проектирования ПО. Монолитная архитектура — это отдельная большая вычислительная сеть с единой базой кода, в которой объединены все бизнес-задачи. Чтобы внести изменения в такое приложение, необходимо обновить весь стек через базу кода, а также создать и развернуть обновленную версию интерфейса, находящегося на стороне службы. Это ограничивает работу с обновлениями и требует много времени.

Монолиты удобно использовать на начальных этапах проектов, чтобы облегчить развертывание и не тратить слишком много умственных усилий при управлении кодом. Это позволяет сразу выпускать все, что есть в монолитном приложении.

## Преимущества монолитной архитектуры

---

Организации могут извлечь выгоду как из монолитной архитектуры, так и из микросервисной в зависимости от ряда различных факторов. При использовании монолитной архитектуры удобно создавать приложения на основе одной базы кода, поэтому ее основное преимущество заключается в быстроте разработки.

К преимуществам монолитной архитектуры можно отнести следующие особенности.

**Простое развертывание**. Использование одного исполняемого файла или каталога упрощает развертывание.

**Разработка**. Приложение легче разрабатывать, когда оно создано с использованием одной базы кода.

**Производительность**. В централизованной базе кода и репозитории один интерфейс API часто может выполнять ту функцию, которую при работе с микросервисами выполняют многочисленные API.

**Упрощенное тестирование**. Монолитное приложение представляет собой единый централизованный модуль, поэтому сквозное тестирование можно проводить быстрее, чем при использовании распределенного приложения.  
  
**Удобная отладка**. Весь код находится в одном месте, благодаря чему становится легче выполнять запросы и находить проблемы.

## Недостатки монолитной архитектуры

---

Как и в случае с Netflix, монолитные приложения работают достаточно эффективно до тех пор, пока они не становятся слишком большими и не вызывают проблем с масштабированием. Чтобы внести небольшое изменение в одну функцию, необходимо выполнить компиляцию и тестирование всей платформы, что противоречит agile-подходу, которому отдают предпочтение современные разработчики.

К недостаткам монолитной архитектуры можно отнести следующие особенности.

**Снижение скорости разработки**. Большое монолитное приложение усложняет и замедляет разработку.

**Масштабируемость**. Невозможно масштабировать отдельные компоненты.

**Надежность**. Ошибка в одном модуле может повлиять на доступность всего приложения.

**Препятствия для внедрения технологий**. Любые изменения в инфраструктуре или языке разработки влияют на приложение целиком, что зачастую приводит к увеличению стоимости и временных затрат.

**Недостаточная гибкость**. Возможности монолитных приложений ограничены используемыми технологиями.

**Развертывание**. При внесении небольшого изменения потребуется повторное развертывание всего монолитного приложения.