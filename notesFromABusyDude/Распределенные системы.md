1) Key-Value хранилища (KVStore) - гигантская хеш таблица, имеет операции set и get
2) Распределенные файловые системы (File System)
3) Coordination Service - распределенные системы, которые нужны для того чтобы строить другие распределенные системы = пачка атомиков
4) Message queues
5) БД

Зачем нужны распределенные системы:
1. В одну машину все не помещается (масштабируется)
2. Одна машина может отказать (отказоустойчивость)
3. Одна машина может обманывать ???

Гарантии (частично синхронной) системы:
1. Safety (не делать плохого)
2. Liveness (делать хорошее)

Partition (сеть раскалывает кластер на 2 части). Если система начинает работать независимо на двух частях, то ситуация называется split brain.

Общая модель распределенной системы

Message Passing - модель внутри системы (узлы обмениваются друг с другом сообщениями). (инф-я требует дополнения, также стоит почитать про shared memory #нужноизучить)

![[message passing.png]]

У ноды есть две роли, мы хотим чтобы они были серверами и задавать им запросы:
1. Координатор (set, get) - активен, получает запрос от клиента, выбирает timestamp, отправляет сообщения другим нодам, командует репликам. Координатор общается с другими узлами через RPC.
2. Реплика (local write, local read, key) получает команды - например, прочти значение времени и верни его.

Обработчик каждого rpc вызова fiber
